function sumUpOnLoad(){document.getElementById("myd-cart-checkout-payment-method-loading").remove();const e=document.querySelector('form[data-testid="card-form"]');e&&e.addEventListener("submit",function(e){const t=setInterval(()=>{addMessageToPixMethod()&&clearInterval(t)},300)})}function addMessageToPixMethod(){const e=document.querySelector('div[data-testid="pending-screen"]');if(e){let t=document.createElement("div");t.classList.add("myd-sumup-pix-pending-screen"),t.innerText='Após realizar o pagamento via PIX clique no botão "Próximo" abaixo que iremos validar o pagamento e finalizar o seu pedido.',e.prepend(t);const o=document.querySelector('input[type="radio"][name="accordion-group"]:checked');return window.MydOrder.payment.method=o?`SumUp - ${o.value}`:"SumUp - PIX",!0}}function sumUpFilterPaymentMethods(e){if(e.eligible&&e.eligible.length>0){const t=[];return e.eligible.forEach(e=>{"boleto"!==e.id&&t.push(e.id)}),t}}function onSumupResponse(e,t){switch(e){case"sent":break;case"invalid":console.error("Error: ",t);break;case"auth-screen":break;case"error":console.error("Error",t);break;case"success":"FAILED"===t.status&&console.error("Error",t.message||"Undefined error from SumUp."),"PAID"===t.status&&onSubmitSumup(t)}}function onSubmitSumup(e){const t=document.querySelector('input[type="radio"][name="accordion-group"]:checked');window.Myd.newEvent("MydPaymentIntegrationSuccess",{method:t?`SumUp - ${t.value}`:"SumUp - Cartão de Crédito",details:{transactionCode:e.transaction_code||"",transactionId:e.transaction_id||"",checkoutId:e.id||"",checkoutReference:e.checkout_reference||""}})}window.addEventListener("MydDraftOrderCreated",e=>{const t=document.createElement("div");t.className="myd-cart__checkout-payment-method-loading",t.id="myd-cart-checkout-payment-method-loading",t.innerHTML=window.Myd.getLoadingAnimation();const o=document.getElementById("myd-checkout-payment-method");o&&o.appendChild(t);const n=e.detail.data.checkout_data;if(!n.id){const e=document.createElement("p");return e.classList.add("myd-sumup__error-to-load-payment"),e.innerText="Sorry, something went wrong while trying to load the payment methods. Contact store support.",o.appendChild(e),void document.getElementById("myd-cart-checkout-payment-method-loading").remove()}SumUpCard.mount({checkoutId:n.id,id:"myd-checkout-payment-method",locale:document.documentElement.lang||"en",country:mydStoreInfo.countryCode||"BR",showFooter:!1,showInstallments:!1,onResponse:onSumupResponse,onPaymentMethodsLoad:sumUpFilterPaymentMethods,onLoad:sumUpOnLoad})}),window.addEventListener("DOMContentLoaded",e=>{const t=new URLSearchParams(window.location.search);t.has("cartvalidation")&&window.Myd.newEvent("MydPaymentIntegrationSumUpValidated",{method:"SumUp - Cartão de Crédito",details:{checkoutId:t.has("checkout_id")?t.get("checkout_id"):null},orderId:t.has("order_id")?t.get("order_id"):null})});